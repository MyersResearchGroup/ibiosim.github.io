<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
           "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<meta name="GENERATOR" content="TtH 3.81">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
 


<title> iBioSim Version 2.8 \ Synthetic Biology Genetic Toggle Tutorial</title>
 
<h1 align="center">iBioSim Version 2.8 <br />Synthetic Biology Genetic Toggle Tutorial </h1>

<div class="p"><!----></div>

<h3 align="center">Chris J. Myers &amp; John Myers </h3>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h1>Contents </h1><a href="#tth_sEc1"
>1&nbsp; Introduction</a><br />
<a href="#tth_sEc2"
>2&nbsp; Project Management</a><br />
<a href="#tth_sEc3"
>3&nbsp; Part Editor</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.1"
>3.1&nbsp; LacI Inverter Gene</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.2"
>3.2&nbsp; TetR Inverter Gene</a><br />
<a href="#tth_sEc4"
>4&nbsp; Model Editor</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc4.1"
>4.1&nbsp; LacI Inverter</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc4.2"
>4.2&nbsp; TetR Inverter</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc4.3"
>4.3&nbsp; Genetic Toggle Switch Model</a><br />
<a href="#tth_sEc5"
>5&nbsp; SBOL Browser</a><br />
<a href="#tth_sEc6"
>6&nbsp; Analysis Tool</a><br />
<a href="#tth_sEc7"
>7&nbsp; Grid Models</a><br />


<div class="p"><!----></div>
 <h2><a name="tth_sEc1">
1</a>&nbsp;&nbsp;Introduction</h2>

<div class="p"><!----></div>
iBioSim has been developed for the modeling, analysis, and design of genetic circuits. iBioSim primarily models genetic circuits, but it also supports modeling metabolic networks, cell-signaling pathways, and other biological and chemical systems. Models in iBioSim use the <A HREF="http://www.sbml.org/">
<em>Systems Biology Markup Language</em>
</A>
&nbsp;(SBML). iBioSim also supports importing files using any level or version of SBML as well as 
<A HREF="http://sed-ml.org/">
<em>SED-ML</em> files 
</A>
that describe simulation experiments. In addition, it is able to export projects back to Level 3 Version 1 of SBML. iBioSim is able to support almost all of the core SBML modeling constructs including hierachical model composition, layout, flux balance constraints, and arrays packages. However, iBioSim does not support some types of <em>fast</em> reactions. iBioSim was the first tool to ever produce correct results for all examples in the SBML benchmark suite, and has also been tested successfully on the stochastic benchmark suite and the curated models in the 
<A HREF="http://www.ebi.ac.uk/biomodels-main/">
<em>BioModels database</em>.
</A>
iBioSim is also one of the first tools to also support the 
<A HREF="http://www.sbolstandard.org/">
<em>Synthetic Biology Open Language</em>
</A>  
&nbsp;(SBOL), an emerging standard for information exchange in synthetic biology.

<div class="p"><!----></div>
All files in iBioSim are collected within projects. A project is a collection of models, analysis views, learn views, and graphs. iBioSim displays all project files on the left margin and the open models, views, and graphs to the right of the project files. A log of all external commands is displayed on the bottom.  The menu bar is located on the top of the window in the Windows and Linux versions. In the Mac OS version, the menu bar is located at the top of the screen. The editors and views included in iBioSim are as follows: 

<div class="p"><!----></div>

<ul>
<li> Part Editor - used to create genetic circuit parts
<div class="p"><!----></div>
</li>

<li> Model Editor - used to create models of a genetic circuits or other biological systems
<div class="p"><!----></div>
</li>

<li> Analysis Tool - analyzes by abstraction-based ODE, Monte Carlo, or Markov
<div class="p"><!----></div>
</li>

<li> SBOL Browser - used to view SBOL files and to associate DNA components to model elements
<div class="p"><!----></div>
</li>

<li> Learn Tool - a tool to learn a model from <em>time series data</em> (TSD)
<div class="p"><!----></div>
</li>

<li> TSD Graph Editor- visualizes TSD files
<div class="p"><!----></div>
</li>

<li> Histogram Graph Editor - visualizes probability data
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/iBioSim.png" alt="screenshots/iBioSim.png" />
</center>

<div class="p"><!----></div>
The following tutorial will show how to use the first three of the above features included in iBioSim in addition to the TSD Graph Editor using a model of the Genetic Toggle Switch (Gardner et al., 2000). For those unfamiliar with the Genetic Toggle Switch, it is the transformation of bacteria to behave in a certain mode after the introduction of a trigger to the system. This experiment is based on the principle of operons in bacteria in which repressor proteins bind to points on bacterial DNA preventing transcription of certain genes. An inducer molecule can bind to the repressor protein causes it to detach from the DNA allowing for the transcription of the genes it was previously repressing. The Genetic Toggle Switch utilizes two repressor proteins, LacI and TetR, that each bind to spots on the DNA that repress the synthesis of the other repressor protein. For example, LacI is a repressor protein that prevents transcription of the TetR gene. In this experiment, LacI represses the genes that code for TetR and GFP (Green Fluorescent Protein) and TetR represses the gene that codes for LacI. When the system is on, the cell glows green, and when the system is off, the cell does not glow. IPTG is the inducer molecule that turns the switch on, and aTc is the inducer molecule that turns the switch off. This is just a brief description of the Genetic Toggle Switch, and more details will be provided in the tutorial.

<div class="p"><!----></div>
 <h2><a name="tth_sEc2">
2</a>&nbsp;&nbsp;Project Management</h2>

<div class="p"><!----></div>

<ul>
<li> To begin, first open iBioSim. In Mac versions, the executable is located in iBioSim/bin/iBioSim.mac.64. In Linux versions, the executable is located in iBioSim/bin/iBioSim.linux.64. The windows version can be opened by accessing iBioSim.jar located in iBioSim/bin/iBioSim.jar. It is possible to open the jar file in all operating systems, however, the Mac OS menu bars will not render correctly unless the mac.64 file is opened instead. If the file does not open, refer to the installation guide.

<div class="p"><!----></div>

<center><img src="screenshots/iBioSim.png" alt="screenshots/iBioSim.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The first step in creating the model of the Genetic Toggle Switch is creating a new project. Projects in iBioSim are collections of models, simulations, and genetic circuit designs. This model requires all of these elements, so to create a new project, select the File menu, hover over New, and select Project. You can also use the keyboard shortcut control &#8594; P on the Windows and Linux versions or command &#8594; P on the Mac OS version.  

<div class="p"><!----></div>

<center><img src="screenshots/project.png" alt="screenshots/project.png" />
</center>
<div class="p"><!----></div>
</li>

<li> You will then be prompted to enter a Project ID.

<div class="p"><!----></div>

<center><img src="screenshots/ProjectIdGT.png" alt="screenshots/ProjectIdGT.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Enter SynBioTutorial because this is Synthetic Biology Tutorial for iBioSim in order to create the project.

<div class="p"><!----></div>

<center><img src="screenshots/ProjectIdGT2.png" alt="screenshots/ProjectIdGT2.png" />
</center>
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
 <h2><a name="tth_sEc3">
3</a>&nbsp;&nbsp;Part Editor</h2>

     <h3><a name="tth_sEc3.1">
3.1</a>&nbsp;&nbsp;LacI Inverter Gene</h3>

<ul>
<li> Before we can create our model for the Genetic Toggle Switch, we must first create the genetic circuits in the model. As aforementioned, there are two, the LacI repressible genes for TetR and GFP and the TetR repressible gene for LacI. These can be created using the Part Editor tool in this program, so select the File menu, hover over New, and select Part.

<div class="p"><!----></div>

<center><img src="screenshots/newPart.png" alt="screenshots/newPart.png" />
</center>
<div class="p"><!----></div>
</li>

<li> You will then be prompted to enter a Part ID for this circuit. This tutorial will start with the circuit for the LacI repressible genes for TetR and GFP, so enter LacI_Inverter_Gene into the Part ID. 

<div class="p"><!----></div>

<center><img src="screenshots/PartIdGT.png" alt="screenshots/PartIdGT.png" />
</center>
<div class="p"><!----></div>
</li>

<li> This will then open up the Part Editor allowing us to begin to create the genetic circuit. The first part of this circuit like many circuits is a promoter, which is where transcription of genes begin, so click the promoter icon to add it to the circuit. The promotor icon is the second icon from the left on the part ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartPromoter.png" alt="screenshots/PartPromoter.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The next part of this circuit is the TetR gene, so select the gene icon to add the TetR gene to the circuit. This will then open the Gene Editor. The gene icon is the first icon from the left on the part ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartGene.png" alt="screenshots/PartGene.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/PartGeneEditor.png" alt="screenshots/PartGeneEditor.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Since this is the TetR gene, enter TetR_Gene into the Display ID and click Ok to add the gene to the circuit.

<div class="p"><!----></div>

<center><img src="screenshots/PartTetRGene.png" alt="screenshots/PartTetRGene.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, do the exact same thing as above to add the GFP gene to the circuit.

<div class="p"><!----></div>

<center><img src="screenshots/PartGFPGene.png" alt="screenshots/PartGFPGene.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The next step is to add the terminator to the circuit, which is where transcription ends, so click the terminator icon to add it to the circuit. The terminator icon is the fifth icon from the left on the part ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartTerminator.png" alt="screenshots/PartTerminator.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now that the framework for this genetic circuit is laid out, it is now time to begin adding some of the details. The first step of which is to expand the genes, so select the TetR gene and the focus in icon from the tool ribbon. The focus in icon is the fourth icon from the right.

<div class="p"><!----></div>

<center><img src="screenshots/PartFocusIn.png" alt="screenshots/PartFocusIn.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now we can add the components of the TetR gene itself to the genetic circuit. Like all coding sequences, the TetR gene has a ribosome binding site where the ribosome binds during translation, so click the ribosome binding site icon to add it to the genetic circuit. The ribosome binding site icon is the third icon from the left on the part ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartRBS.png" alt="screenshots/PartRBS.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The next part in genes after the ribosome binding site is the coding the sequence, the part of the gene that codes for the TetR protein, so click the coding sequence icon to add it to the genetic circuit. The coding sequence icon is the fourth icon from the left on the part ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartCDS.png" alt="screenshots/PartCDS.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now that we have the parts of the TetR gene, it is time to associate the parts of the gene with the actual DNA sequences that code for these parts of the gene. This is possible due to the SBOL library in Newcastle University, UK. Note, this part of the tutorial requires an internet connection in order to access the library, so lets start by selecting the ribosome binding site and clicking the search part registry icon. The search part registry icon is the third icon from the left on the tool ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartSearchPartRegistry.png" alt="screenshots/PartSearchPartRegistry.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Clicking the search part registry icon opens the Part Registry. First, check that the selected registry is the SBOL Stack before going on, the SBOL Stack registry being the SBOL library in Newcastle.

<div class="p"><!----></div>

<center><img src="screenshots/PartPartRegistry.png" alt="screenshots/PartPartRegistry.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The next step is to associate the ribosome binding site with its gene sequence, so in the Filter Parts criterion, type J61120. The filter is case sensitive so be sure to use a capital "J". The only DNA sequence left after the filter is the DNA sequence for this ribosome binding site, so select it and click Ok to associate it with this ribosome binding site. 

<div class="p"><!----></div>

<center><img src="screenshots/PartRBSTetR.png" alt="screenshots/PartRBSTetR.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now that the ribosome binding site now has its DNA sequence associated with it, the same must now be done for the actual coding sequence for the TetR protein, so select the coding sequence and press the search part registry icon. Currently, the Part Registry takes a little longer to open for coding sequences than it does for ribosome binding sites, so be patient. When the Part Registry loads, enter in C0040 in the filter parts criterion, and select the tetR coding sequence and click Ok to associate it with the coding sequence.

<div class="p"><!----></div>

<center><img src="screenshots/PartCDSTetR.png" alt="screenshots/PartCDSTetR.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now that the TetR gene is associated with its DNA sequences, the next step is to focus out back to the genetic circuit as a whole and do the same for the GFP gene, so select the focus out icon. The focus out icon is the third icon from the right on the tool ribbon.

<div class="p"><!----></div>

<center><img src="screenshots/PartFocusOut.png" alt="screenshots/PartFocusOut.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now select the GFP gene and the focus in icon, and build that gene with a ribosome binding site and a coding sequence.

<div class="p"><!----></div>

<center><img src="screenshots/PartGFPFocusIn.png" alt="screenshots/PartGFPFocusIn.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Like before, the next step is to associate the ribosome binding site and the coding sequence with their respective DNA sequences, so select the ribosome binding site and the search part registry icon. In the filter criterion, type J61130, and the select the DNA sequence and associate it with the ribosome binding site by pressing Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartRBSGFP.png" alt="screenshots/PartRBSGFP.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Next, select the coding sequence and the search part registry icon and type E0040 into the filter criterion and select the gfp coding sequence. Then, press Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartCDSGFP.png" alt="screenshots/PartCDSGFP.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/PartGFPGeneComplete.png" alt="screenshots/PartGFPGeneComplete.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now that the GFP gene is complete, focus back out to the genetic circuit as a whole to associate the promoter and terminator with their DNA sequences. Next, select the promoter and the search part registry icon. Then type R0010 in the filter criterion and select the pLac promoter and press Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartLacIPromoter.png" alt="screenshots/PartLacIPromoter.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now select the terminator and the search part registry icon. This time, type ECK to narrow the selection to two terminators, and select terminator 2. Then, press Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartLacIComplete.png" alt="screenshots/PartLacIComplete.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now that this genetic circuit is complete, in order to successfully integrate it later in the model, it must be saved before continuing. This can be done by selecting the file menu and clicking save or by using the shortcut control &#8594; S on the Windows and Linux versions or command &#8594; S on the Mac OS version. You will then be prompted that you are saving into an existing SBOL file. Currently, the part editor works by creating the SBOL when it is opened, so each time the file is saved, it appears to save onto an existing file, so ignore the message and select the Overwrite button.

<div class="p"><!----></div>

<center><img src="screenshots/PartLacIComplete2.png" alt="screenshots/PartLacIComplete2.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/PartSave.png" alt="screenshots/PartSave.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.2">
3.2</a>&nbsp;&nbsp;TetR Inverter Gene</h3>
<div class="p"><!----></div>
</li>

<li> As aforementioned, there are two genetic circuits in this model, so now it is time to create the next one. Select the file menu, hover over New, and select Part. You will then be prompted to enter a Part ID, so enter TetR_Inverter_Gene.

<div class="p"><!----></div>

<center><img src="screenshots/PartIDTetR.png" alt="screenshots/PartIDTetR.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The next steps are more or less the same as the LacI Inverter genetic circuit. The difference in this circuit is that there is only one gene, so insert a promoter, and then a gene. In the Gene Editor, under the Display ID criterion, enter LacI because this is the gene that codes for the LacI repressor protein in the previous genetic circuit.

<div class="p"><!----></div>

<center><img src="screenshots/PartLacIGene.png" alt="screenshots/PartLacIGene.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Next, as before, insert the terminator. Then focus in to the LacI gene and insert a ribosome binding site and coding sequence as before.

<div class="p"><!----></div>

<center><img src="screenshots/PartTetRAssembled.png" alt="screenshots/PartTetRAssembled.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/PartTetRLacIAssembled.png" alt="screenshots/PartTetRLacIAssembled.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, it is once again time to associate each part of the circuit with its DNA sequence, so select the ribosome binding site and the search part registry icon. In the filter parts criterion, type J61101, and select the one that has J61101 in the Display Id and press Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartTetRRBS.png" alt="screenshots/PartTetRRBS.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Next, select the coding sequence and the search part registry icon. This time in the filter parts criterion, type C0012 and select the lacI coding sequence and press Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartLacICDS.png" alt="screenshots/PartLacICDS.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/PartLacIGeneComplete.png" alt="screenshots/PartLacIGeneComplete.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Next, as before, focus out. Now, it is time to associate the promoter and terminator with their DNA sequences, so select the promoter and the search part registry icon. Type R0040 into the filter parts criterion, and select the pTet promoter. Then associate the DNA sequence by pressing Ok.

<div class="p"><!----></div>

<center><img src="screenshots/PartpTetPromoter.png" alt="screenshots/PartpTetPromoter.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, to finish this genetic circuit, select the terminator and the search part registry icon in order to associate it to its DNA sequence. In the filter parts criterion, type ECK1200 and select Terminator 1 and press Ok to complete the genetic circuit.

<div class="p"><!----></div>

<center><img src="screenshots/PartTetRTerminator.png" alt="screenshots/PartTetRTerminator.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/PartTetRComplete.png" alt="screenshots/PartTetRComplete.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, as before, don't forget to save the genetic circuit. This will cause the warning message to appear again warning that you are saving into an existing file, ignore the message and select overwrite.

<div class="p"><!----></div>

<center><img src="screenshots/PartSave.png" alt="screenshots/PartSave.png" />
</center>
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
 <h2><a name="tth_sEc4">
4</a>&nbsp;&nbsp;Model Editor</h2>

<div class="p"><!----></div>

<ul>
<li> Now that we have finished creating the genetic circuits that are part of this genetic toggle switch model, we can begin building the model. This tutorial will show how to model the genetic toggle switch using a hierarchical model, building two modules before the final model, so without further ado, let's begin with the LacI Inverter.

<div class="p"><!----></div>
     <h3><a name="tth_sEc4.1">
4.1</a>&nbsp;&nbsp;LacI Inverter</h3>
<div class="p"><!----></div>
</li>

<li> In order to begin creating our model, select the File menu, hover over New, and select Model. You could also use the keyboard shortcut control &#8594; M on the Windows and Linux versions or command &#8594; M on the Mac OS version.

<div class="p"><!----></div>

<center><img src="screenshots/newModel.png" alt="screenshots/newModel.png" />
</center>
<div class="p"><!----></div>
</li>

<li> You will then be prompted to enter a Model ID. Enter LacI_Inverter into the Model ID because this particular model will model the repression of the GFP (Green Fluorescent Protein) gene by the LacI protein.

<div class="p"><!----></div>

<center><img src="screenshots/ModelIdGT.png" alt="screenshots/ModelIdGT.png" />
</center>
<div class="p"><!----></div>
</li>

<li> The next step is to add the proteins involved in this operon. In this particular model, there are three proteins; LacI, TetR, and GFP. So click on the Add Species icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" /> on the tool ribbon and click on three different locations on the schematic canvas to create the three proteins.

<div class="p"><!----></div>

<center><img src="screenshots/schematicGT.png" alt="screenshots/schematicGT.png" />
</center>

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Next, select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> from the tool ribbon and double-click on one of the proteins to open the Species Editor.

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>

<center><img src="screenshots/speciesGT.png" alt="screenshots/speciesGT.png" />
</center>
<div class="p"><!----></div>
</li>

<li> In the ID criterion, enter LacI.
<div class="p"><!----></div>
</li>

<li> Now, change, the port type to input. This specifies that the LacI protein will be imported into this model from a different model that will be created later.
<div class="p"><!----></div>
</li>

<li> Click Ok to save the entered criteria in the Species Editor.

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Now, double-click on another of the proteins to open its Species Editor.
<div class="p"><!----></div>
</li>

<li> Enter TetR into the ID criterion of this protein.
<div class="p"><!----></div>
</li>

<li> This time, change the port type to output specifying that this protein will be exported into to another model that will be created later in this tutorial.
<div class="p"><!----></div>
</li>

<li> Finally, click Ok to save the entered criteria for this protein.

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Now, double-click on the last protein to open its Species Editor.
<div class="p"><!----></div>
</li>

<li> Enter GFP into its ID criterion, and once again select output on the port type.
<div class="p"><!----></div>
</li>

<li> Now, click Ok to save the entered criteria.

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> The next step is to add a promoter to this model to order to specify which genes are present in this operon, so click the promoter icon. <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/promoter_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/promoter_mode_selected.png" /> on the tool ribbon and click on the schematic canvas to add a promoter to the model.

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Now, select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> again from the tool ribbon and double click the promoter to open the Promoter Editor.

<div class="p"><!----></div>

<center><img src="screenshots/promoterGT.png" alt="screenshots/promoterGT.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Enter pLac into the ID criterion because it is the promoter in the Lac operon.

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Now click on Associate SBOL near the bottom of the Promoter Editor to open the SBOL editor in order to associate the LacI_Inverter_Gene made in Part Editor with this promoter. This will open the SBOL Association window.

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Click add to open the SBOL Browser in order to find the genetic circuit file created earlier in this tutorial. Scroll down the Component Definitions until you find the LacI_Inverter_Gene, then press Ok to add it to the SBOL Association window.

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> Press Ok on the SBOL Association and on the Promoter Editor window to associate our LacI Inverter Gene genetic circuit with the pLac promoter.

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> As you may now notice, the promoter tile has been replaced with a new grey tile that resembles a genetic circuit. This indicates that this promoter is now associated with an SBOL file. The next step is to show the interactions between the proteins and the promoter. The pLac promoter is repressible by LacI, so in order to show this relationship, first select the repression icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" />.

<div class="p"><!----></div>

<center><img src="screenshots/RepressionArc.png" alt="screenshots/RepressionArc.png" />
</center>
<div class="p"><!----></div>
</li>

<li> In order to show that LacI represses the transcription of the TetR and GFP genes, hover over the LacI protein highlighting it. Now, while holding down the mouse button, draw a line connecting the LacI protein to the pLac promoter.

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>

<center>
</center>
<div class="p"><!----></div>
</li>

<li> To show that the promoter leads to the transcription and translation of the TetR and GFP genes, hover over the promoter and while holding down the mouse button and draw a line to the TetR protein and then do the same for the GFP genes.

<div class="p"><!----></div>

<center>
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc4.2">
4.2</a>&nbsp;&nbsp;TetR Inverter</h3>
<div class="p"><!----></div>
</li>

<li> The next step is to create the model of TetR repressing the LacI gene, so select the file menu and hover over New and then select Model. Enter TetR_Inverter in the Model ID.

<div class="p"><!----></div>

<center><img src="screenshots/ModelTetRId.png" alt="screenshots/ModelTetRId.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Once again, it is necessary to add the proteins involved in this models, namely TetR and LacI, so select the Add Species icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" /> from the tool ribbon and click on two different locations on the schematic canvas to create the two proteins.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterSpecies.png" alt="screenshots/TetRInverterSpecies.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> and double-click on one of the proteins to open the Species Editor. Enter TetR into the ID criterion and select input in the Port Type criterion to specify that TetR comes from the model that shall be created next and then click Ok.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterTetR.png" alt="screenshots/TetRInverterTetR.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, double-click on the remaining protein to open its Species Editor, and enter LacI into the ID criterion and export into the Port Type criterion. In the Initial Amount/Concentration, type in 60 because this model starts out with the GFP gene suppressed.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterLacI.png" alt="screenshots/TetRInverterLacI.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Next, as before, insert a promoter into the model, so that we can begin to establish the relationship between LacI and TetR. 

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterPromoter.png" alt="screenshots/TetRInverterPromoter.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Then select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> and double-click the promoter to open the promoter editor. In the ID criterion, type pTet because this is the TetR repressible promoter that leads to the translation and transcription of LacI.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterpTet.png" alt="screenshots/TetRInverterpTet.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now click the Associate SBOL button to open the SBOL Association window. This time however, select the Reverse Complement box because this gene is on the opposite side of the DNA as the previous two genes in the LacI Inverter model.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterSBOL.png" alt="screenshots/TetRInverterSBOL.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Once again, click the Add button to open the SBOL Browser. In the Component Definitions, scroll down to the TetR_Inverter_Gene made earlier in this tutorial.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterSBOLBrowser.png" alt="screenshots/TetRInverterSBOLBrowser.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Press Ok on the SBOL Browser menu, the SBOL Association window, and the Promoter Editor Window to associate the genetic circuit with the promoter.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterStuffInserted.png" alt="screenshots/TetRInverterStuffInserted.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, to show that TetR represses the transcription and translation of the LacI gene, select the repression icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" /> from the tool ribbon and draw a line from the TetR protein to the promoter. Then, to show pTet leads to the production of LacI, draw line from the pTet promoter to LacI.

<div class="p"><!----></div>

<center><img src="screenshots/TetRInverterComplete.png" alt="screenshots/TetRInverterComplete.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc4.3">
4.3</a>&nbsp;&nbsp;Genetic Toggle Switch Model</h3>
<div class="p"><!----></div>
</li>

<li> Now that these two models are completed, we can finally create the Genetic Toggle Switch model, so first, create a new model called GeneticToggle.

<div class="p"><!----></div>

<center><img src="screenshots/GeneticToggleID.png" alt="screenshots/GeneticToggleID.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Make sure the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> is selected and double-click on the schematic canvas to open the Compartment Editor.
<div class="p"><!----></div>
</li>

<li> Deselect Is Mapped to a Port because this model encompasses the other two models that were just created (hierarchical model).
<div class="p"><!----></div>
</li>

<li> Now click Ok.
<div class="p"><!----></div>
</li>

<li> Then, the proteins involved in the Genetic Toggle, GFP, TetR, and LacI must be added to this model, so select the Add Species icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" /> and click on the schematic canvas three times.

<div class="p"><!----></div>

<center><img src="screenshots/GeneticToggleThree.png" alt="screenshots/GeneticToggleThree.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> from the tool ribbon and double-click on one of the proteins to open the Species Editor, and then, enter LacI in the ID criterion. This time, leave the Port Type on internal because the LacI is not entering this model from somewhere else or going into another model. In addition, under Conversion Factor Indices, select Degrades to indicate that this protein degrades overtime. Then press Ok.

<div class="p"><!----></div>

<center><img src="screenshots/GTLacI.png" alt="screenshots/GTLacI.png" />
</center>
<div class="p"><!----></div>
</li>

<li> Now, open the Species Editor for the other two proteins and enter TetR and GFP into their ID criterions. Under Conversion Factor Indices for both proteins, select degrades. Just like LacI, both of these proteins degrade over time in biological systems. Click Ok to save these criteria.
<div class="p"><!----></div>
</li>

<li> It is now necessary to add the previous two models to this model, so select the Add Module icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_component_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_component_selected.png" /> from the tool ribbon and click on the schematic canvas.
<div class="p"><!----></div>
</li>

<li> Now select the LacI_Inverter model and click Ok to add it to this model.
<div class="p"><!----></div>
</li>

<li> Click on the schematic canvas again and select the TetR_Inverter to add it to this model.
<div class="p"><!----></div>
</li>

<li> Now, it is necessary to show the relationship between the models and proteins. First select the arrow icon and draw a line from the LacI protein to the LacI_Inverter module to indicate that the LacI protein in this model is the inputted protein in the LacI_Inverter model.
<div class="p"><!----></div>
</li>

<li> Now, draw a line from the LacI_Inverter Module to the TetR protein.
<div class="p"><!----></div>
</li>

<li> Since there are two output ports, you must select the TetR protein port to continue in order to confirm that output TetR protein corresponds to the internal TetR protein in this model.
<div class="p"><!----></div>
</li>

<li> Now draw a line from the TetR protein to the TetR_Inverter module to link the internal TetR protein in this model to the inputted TetR protein in the TetR_Inverter model.
<div class="p"><!----></div>
</li>

<li> Next, connect the TetR_Inverter module to the LacI protein to link the outputted LacI protein in the TetR_Inverter model to this model.
<div class="p"><!----></div>
</li>

<li> Finally, draw a line from the LacI_Inverter module to the GFP protein to link the outputted GFP protein in the LacI_Inverter model to this model's internal GFP protein.
<div class="p"><!----></div>
</li>

<li> The next step is to add the inducers that flip this genetic toggle switch on and off, IPTG and aTc respectively, so select the Add Species icon  <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" /> from the tool ribbon and click on two areas of the schematic canvas.
<div class="p"><!----></div>
</li>

<li> Now select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> from the tool ribbon and double-click one of the proteins to open the Species Editor.
<div class="p"><!----></div>
</li>

<li> Enter IPTG in the ID criterion.
<div class="p"><!----></div>
</li>

<li> Under the Conversion Factor Indices, select Boundary Condition in order to specify that its concentration remains constant for the purposes of this model.
<div class="p"><!----></div>
</li>

<li> Click Ok to save the criteria.
<div class="p"><!----></div>
</li>

<li> Now double-click the remaining protein to open its Species Editor.
<div class="p"><!----></div>
</li>

<li> Enter aTc in the ID criterion and once again select Boundary Condition under the Conversion Factor Indices.
<div class="p"><!----></div>
</li>

<li> Click Ok to save the entered criteria.
<div class="p"><!----></div>
</li>

<li> In operons, an inducer works by binding to the repressor protein changing the shape of the protein, so it no longer binds to the DNA before the promoter. This can be represented in this model by forming complexes of IPTG and LacI as well aTc and TetR, so select the Add Species icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" /> from the tool ribbon and click on two areas of the schematic canvas to create the complexes.
<div class="p"><!----></div>
</li>

<li> Now select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> from the tool ribbon and double-click on one of the complexes to open the Species Editor.
<div class="p"><!----></div>
</li>

<li> Under the item criterion, type IPTG_LacI to indicate that this is the complex formed by IPTG binding to LacI.
<div class="p"><!----></div>
</li>

<li> Under the Conversion Factor Indices, select Degrades because this complex over time in biological systems eventually degrades.
<div class="p"><!----></div>
</li>

<li> Now double-click the remaining complex to open its Species Editor, and label this one's ID as aTc_TetR to indicate that this complex is formed by aTc binding to TetR.
<div class="p"><!----></div>
</li>

<li> Once again, under the Conversion Factor Indices, select Degrades for the same reason as IPTG_LacI complex.
<div class="p"><!----></div>
</li>

<li> Now, it is necessary to show the relationship among the complex, the inducer, and repressor protein, so select the Complex Formation Icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/bio_activation_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/bio_activation_selected.png" /> and draw a line from IPTG to the IPTG_LacI complex as well as a line from LacI to the IPTG to show that a complex is formed when IPTG binds to LacI.
<div class="p"><!----></div>
</li>

<li> Now, connect aTc to the aTc_TetR complex as well as TetR to the aTc_TetR complex to show that aTc and TetR form a complex when aTc binds to TetR.
<div class="p"><!----></div>
</li>

<li> The default Stoichiometry of binding for complex formation is 2. However, since these reactions only require one of each reactant to form one complex, the Stoichiometry of binding for these reactions is 1. So, select the cursor icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" /> and double-click one of the lines that connects a reactant to one of the complexes and under Stoichiometry of binding (nc), change default to custom and change the parameter from 2 to 1.
<div class="p"><!----></div>
</li>

<li> Repeat the above step for each of the lines connecting the reactants to the two complexes.
<div class="p"><!----></div>
</li>

<li> The final step is to add events to change the amount of IPTG and aTc present in the system to turn the genetic toggle switch on and off, so select the Event Icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/event_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/event_mode_selected.png" /> and click on the schematic canvas to add an event and open the Event Editor.
<div class="p"><!----></div>
</li>

<li> Under the ID criterion, label the event IPTG_High because this event will increase the amount of IPTG in the system at a specific time.
<div class="p"><!----></div>
</li>

<li> Under the Delay criterion, type 2000 to specify the amount of time before the event will be allowed to trigger, so that the switch starts in the off position for a period of time.
<div class="p"><!----></div>
</li>

<li> Now go up to the Trigger condition and type true to specify that the event will trigger immediately at time equals 2000.
<div class="p"><!----></div>
</li>

<li> Next, click on Add Assignment to open the Event Assignment Editor to specify what the event shall do when it triggers.
<div class="p"><!----></div>
</li>

<li> In the Event Assignment Editor, set the variable to IPTG because this event will increase the amount of IPTG present in the system.
<div class="p"><!----></div>
</li>

<li> Next, set the Assignment to 60 in order to increase the IPTG present from 0 to 60 because enough IPTG must be present in the system to stop the repression of the TetR and GFP genes by LacI to turn the switch on.
<div class="p"><!----></div>
</li>

<li> Now, click on the Add button in the Event Assignment Editor to add this assignment to the editor.
<div class="p"><!----></div>
</li>

<li> Click on the Add button in the Event Editor to create the event.
<div class="p"><!----></div>
</li>

<li> The next event that needs to be created is necessary to lower the IPTG value back to zero in order to show that the switch remains on even when the inducer is no longer present, so click on another space on the schematic canvas to create another event.
<div class="p"><!----></div>
</li>

<li> Under the ID criterion, type IPTG_Low because this event will lower the IPTG present in the system back to 0.
<div class="p"><!----></div>
</li>

<li> Under the Delay criterion, set the value to 4000 because this event should occur after some time after the previous event raises the IPTG value.
<div class="p"><!----></div>
</li>

<li> Set the Trigger condition to true, so the event will trigger at time 4000.
<div class="p"><!----></div>
</li>

<li> Now, the purpose of the event must be set, so click the Add Assignment to open the Event Assignment Editor.
<div class="p"><!----></div>
</li>

<li> Set the variable to IPTG again because this event will lower the concentration of IPTG, and set the Assignment criterion to 0 to lower the IPTG in the system back from 60 to 0.
<div class="p"><!----></div>
</li>

<li> Click on the Add button to finalize the assignment, and then click on the Add button in the Event Editor to create the event.
<div class="p"><!----></div>
</li>

<li> The next step is to create the events that turn the switch off, so click in another location in the schematic canvas to open the Event Editor to create another event.
<div class="p"><!----></div>
</li>

<li> Under the ID criterion, type aTc_High because this event will increase the amount of aTc present in the system to turn the switch off.
<div class="p"><!----></div>
</li>

<li> Set the Delay criterion for this event to 6000 because it should occur after the previous events, and once again, set the Trigger criterion to true so the event occurs at 6000.
<div class="p"><!----></div>
</li>

<li> Click on Add Assignment so that the event increases the aTc concentration at time equals 6000.
<div class="p"><!----></div>
</li>

<li> Set the variable to aTc this time because that is the molecule concentration being changed.
<div class="p"><!----></div>
</li>

<li> Under the Assignment criterion, set the value to 60 to raise the aTc concentration from 0 to 60.
<div class="p"><!----></div>
</li>

<li> Click Add to add this assignment to the event, and then click Add in the Event Editor to create the event.
<div class="p"><!----></div>
</li>

<li> The last event that needs to be created will essentially reset the system back to its starting state, so once again, click another place on the schematic canvas to create another event.
<div class="p"><!----></div>
</li>

<li> Under the ID criterion in the Event Editor, type aTc_Low because this event will lower aTc back to 0 resetting the system back to the way it was at time equals 0.
<div class="p"><!----></div>
</li>

<li> Under the Delay criteria, set the value to 8000, so the event occurs after the previous three events.
<div class="p"><!----></div>
</li>

<li> Now, set the Trigger criterion to true, so the event triggers right at time equals 8000.
<div class="p"><!----></div>
</li>

<li> Click Add Assignment to open the Event Assignment Editor in order to specify what the event does.
<div class="p"><!----></div>
</li>

<li> Set the variable to aTc because this event will lower the concentration of aTc, and set the Assignment criterion to 0 to lower the aTc concentration back to 0.
<div class="p"><!----></div>
</li>

<li> Click Add to add the assignment to the Event, and then click Add in the Event Editor to create the event.
<div class="p"><!----></div>
</li>

<li> Now select the File Menu and click Save.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Let us know see how to create a new model using the Model Editor.  First, select New &#8594; Model from the File menu as shown below. You will then be prompted to enter a model ID.  Enter <tt>LacI_Inverter</tt>.  At this point, a Model editor will open in a new tab.

<div class="p"><!----></div>

<center><img src="screenshots/newModel.png" alt="screenshots/newModel.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/ModelIdGT.png" alt="screenshots/ModelIdGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/schematicGT.png" alt="screenshots/schematicGT.png" />
</center>

<div class="p"><!----></div>
To add a chemical species, select the Add Species icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_species_selected.png" /> and click on the schematic canvas  (note that this can also be done using the Edit menu or the hotkeys shown in this menu).  This will drop a new species with default ID and other values.  You may change these defaults by clicking on the selection icon 
<img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" />, and
double-clicking on the species to open the Species Editor.  In this case, let us change the ID to LacI and change the Port type to <em>input</em>.  We will leave all the other values at their default values.  The port type of input indicates that this species will be used as an input for the LacI inverter.   
Note that while in the select mode, you can also select an object in the schematic and move it by moving the mouse while holding the left mouse button.  Pressing the right mouse button while an object is selected brings up a menu that allows you to delete an object from the schematic.  Repeat the steps above to add TetR and GFP species.  Give these species port type of <em>output</em>. 

<div class="p"><!----></div>

<center><img src="screenshots/speciesGT.png" alt="screenshots/speciesGT.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
Next, let's add the pLac promoter, which initiates transcription of the gene that produces the proteins TetR and GFP.  To do this, select the promoter icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/promoter_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/promoter_mode_selected.png" /> and click on the schematic canvas to drop the promoter with a default ID and parameter values.  Double-click on the promoter to bring up the promoter editor.  Change the ID to pLac.

<div class="p"><!----></div>

<center><img src="screenshots/promoterGT.png" alt="screenshots/promoterGT.png" /> 
</center>

<div class="p"><!----></div>
The pLac promoter is repressed by the LacI species.  To create this relationship, select the repression arc icon 
<img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" />, highlight the LacI species, and, while holding the mouse button, stretch the repression arc to the pLac promoter.  

<div class="p"><!----></div>

<center><img src="screenshots/repressionGT.png" alt="screenshots/repressionGT.png" /> 
</center>

<div class="p"><!----></div>
As mentioned earlier, the pLac promoter initiates the production of the TetR and GFP species.  Highlight the pLac promoter and, while holding the mouse button, stretch the production arc to the TetR species.  Repeat these steps to create a production arc between the pLac promoter and GFP species.  Note that any regulation icon can be selected for this because all arcs from promoters to species are always production arcs.  

<div class="p"><!----></div>

<center><img src="screenshots/productionGT.png" alt="screenshots/productionGT.png" />
</center>

<div class="p"><!----></div>
Let us now annotate the LacI inverter with its DNA sequence.  To do this, we will need to first import some annotated sequence data stored using the <em>synthetic biology open language</em> (SBOL).  Select the File &#8594; Import &#8594; SBOL File menu option as shown below.  This will bring up a file browser.  You will need to find the location where <tt>iBioSim</tt> is installed, and the file you want to import should be located in <tt>iBioSim/docs/SynBioTutorial/SBOL/GeneticToggle.sbol</tt>.  

<div class="p"><!----></div>

<center><img src="screenshots/importSBOL.png" alt="screenshots/importSBOL.png" />
</center>

<div class="p"><!----></div>
Next, click on the Model button in the schematic editor which brings up the Model editor shown below.  

<div class="p"><!----></div>

<center><img src="screenshots/ModelEditorGT.png" alt="screenshots/ModelEditorGT.png" />
</center>

<div class="p"><!----></div>
Next, click on the Associate SBOL button, highlight the placeholder for the DNA component, and click the Remove button.  Then, press the Add button which will open the SBOL browser shown below.  In the list of DNA components, scroll down to the component named pIKERightCassette_1, select it, and press OK.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLBrowserGT.png" alt="screenshots/SBOLBrowserGT.png" />
</center>

<div class="p"><!----></div>
The SBOL association editor should now show this DNA component as being associated with this model.  We could now add more components, if we wish, but only one is needed for this, so press Ok.  We are now done with the LacI inverter model, so let's make sure the model is saved by either clicking on the Save icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/save.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/save.png" /> or selecting the Save option from the File menu.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLAssociationGT.png" alt="screenshots/SBOLAssociationGT.png" />
</center>

<div class="p"><!----></div>
Next, repeat the steps above to create a TetR_Inverter model.  The TetR inverter has input TetR and output LacI.  In the TetR inverter, TetR represses the production of LacI.  To indicate this, select the repression icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/inhibition_selected.png" />, highlight the TetR species and stretch the arc to the LacI species.  This action creates an implicit promoter P0 that is repressed by TetR and initiates production of LacI.  When you associate SBOL with this model, select the pIKELeftCassette_1 component, and select for it to be put on the Minus Strand by checking the box on the SBOL association window.  Do not forget to save this model either by clicking on the Save icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/save.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/save.png" /> or selecting the Save option from the File menu.

<div class="p"><!----></div>

<center><img src="screenshots/implicitPromoterGT.png" alt="screenshots/implicitPromoterGT.png" />
</center>

<div class="p"><!----></div>
Now, let us put these genetic inverters into a new model called GeneticToggle.
This model will be the top-level model, and all elements of this model will be enclosed in this model's <em>compartment</em>.  Compartments are the membrane-enclosed regions where species can be found and reactions take place.  <tt>iBioSim</tt> creates a default compartment initially with the ID of Cell.  If you click on the schematic within the Cell compartment, it brings up the compartment editor.  Uncheck the "Is Mapped to a Port".  This indicates that this compartment should be enclosing this model and not replaced when instantiated in a larger model.  Once you press OK, you will notice that the compartment now has rounded corners to indicate that this is membrane enclosed by the compartment Cell.

<div class="p"><!----></div>

<center><img src="screenshots/compartmentGT.png" alt="screenshots/compartmentGT.png" />
</center>

<div class="p"><!----></div>
Now, lets add the LacI_Inverter component to this model.  Select the Add Component icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_component_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/add_component_selected.png" /> and click on the Schematic canvas opening the Add Component(s) window.  In this window, browse the combo box, if necessary, to find your LacI_Inverter model.  Pressing OK will then add it to your schematic.  Repeat these steps to add the TetR_Inverter.

<div class="p"><!----></div>

<center><img src="screenshots/subModelGT.png" alt="screenshots/subModelGT.png" />
</center>

<div class="p"><!----></div>
The next step is to connect the components through their species.   To do this, add species to the model for LacI, TetR, and GFP.  Mark that each of these species degrades, and set the initial amount of LacI to 60.  The degrades checkbox means that when this model is analyzed a default degradation reaction will be created which has a rate of 0.0075.  Next, highlight the LacI species and stretch a connection to the LacI_Inverter connecting it to its LacI input port.  Next, highlight the LacI_Inverter and stretch to the TetR species.  In this case, since there are two output ports, you must select the TetR output port is the one desired.  Next, highlight the TetR species and stretch to the TetR_Inverter to connect to the TetR input port.  Next, highlight the TetR_Inverter and stretch to the LacI species to connect it to its LacI output port.  Finally, highlight the Lac_Inverter and stretch to the GFP species being sure to select to connect to its GFP output port.  

<div class="p"><!----></div>

<center><img src="screenshots/addConnectionGT.png" alt="screenshots/addConnectionGT.png" />
</center>

<div class="p"><!----></div>
By instantiating these models together, the SBOL associated with each component will now be composed as well.  To add some description for this composite DNA component, click on the Model button, followed by the Associate SBOL button on the Model Editor, and finally the Edit Composite button on the SBOL Association window.  You can now add an ID, Name, and Description for this composite DNA component as shown below.  

<div class="p"><!----></div>

<center><img src="screenshots/compSBOLDesc.png" alt="screenshots/compSBOLDesc.png" />
</center>

<div class="p"><!----></div>
Next let us add the complex formation reactions that sequester LacI and TetR preventing them from acting as repressors.  First, add the small molecule species IPTG and aTc.  Select <em>boundary condition</em> to indicate they are replenished inputs to the system.  Next, add the complex species IPTG_LacI and aTc_TetR and mark that they degrade.  Now, select the complex formation icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/bio_activation_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/bio_activation_selected.png" />, highlight the IPTG species, and, while holding the mouse button, stretch the complex formation arc to the IPTG_LacI species.  Repeat this step to connect complex formation arcs between LacI and this complex, as well as from aTc and TetR to the aTc_TetR complex.  Finally, click on the selection icon 
<img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/select_mode_selected.png" />, and
double-click on each complex formation to open the Influence Editor.  In this editor, change the Stoichiometry of binding (nc) from 2 to 1 by first changing "default" to "custom" then editing the value.

<div class="p"><!----></div>

<center><img src="screenshots/complexGT.png" alt="screenshots/complexGT.png" />
</center>

<div class="p"><!----></div>
The final step in the model creation is to add some discrete events to change the amounts of IPTG and aTc, so we may see the genetic toggle switch change state during simulation.  First, select the event icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/event_mode_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/event_mode_selected.png" />, and click on the schematic to add an event.  This action opens the event editor.  In this editor, create an event with ID "IPTG_High", a trigger of "true", and a delay of 2000.  Next, click on Add Assignment to bring up the Event Assignment Editor.  In this editor, select the variable IPTG and provide the assignment of 60.  Press the Add button to add the assignment and the Add button to add the event.  This event will cause the amount of IPTG to change to 60 molecules after 2000 seconds of simulation time.  Repeat these steps to create an "IPTG_Low" event with a delay of 4000 which assigns 0 to IPTG, an "aTc_High" event with a delay of 6000 which assigns 60 to aTc, and finally an "aTc_Low" event with a delay of 8000 which assigns 0 to aTc.

<div class="p"><!----></div>

<center><img src="screenshots/eventGT.png" alt="screenshots/eventGT.png" />
</center>

<div class="p"><!----></div>
You should now have a complete model of the genetic toggle switch that looks like the one below (though locations of elements may be different).  Make sure the model is saved by either clicking on the Save icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/save.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/save.png" /> or selecting the Save option from the File menu.

<div class="p"><!----></div>

<center><img src="screenshots/saveGT.png" alt="screenshots/saveGT.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc5">
5</a>&nbsp;&nbsp;SBOL Browser</h2>

<div class="p"><!----></div>
As mentioned above, a composite DNA component has been constructed for the entire genetic toggle switch.  To see this component, click on the GeneticToggle.sbol file in the list of project files to open the SBOL browser.  On the right side, scroll down and select the DNA component that you named MyGeneticToggle.  You will now see the complete annotated DNA sequence for this component.  Note how the pIKELeftCassette_1 has been put on the minus strand while the pIKERightCassette_1 follows it on the positive strand.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLBrowserGT2.png" alt="screenshots/SBOLBrowserGT2.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc6">
6</a>&nbsp;&nbsp;Analysis Tool</h2>

<div class="p"><!----></div>
This section describes how to analyze the model just created.  The first step is to create an analysis view.  To do this, right-click on the model file and select Create Analysis View.  Enter the analysis ID <tt>GeneticToggle</tt> or just press enter.  At this point, a new analysis view should open.  You should also notice that an icon appears next to your model file.  When you click on this, it will show you all of the analysis and learn views associated with this model.

<div class="p"><!----></div>

<center><img src="screenshots/createAnalysisViewGT.png" alt="screenshots/createAnalysisViewGT.png" /><br />
<img src="screenshots/analysisViewGT.png" alt="screenshots/analysisViewGT.png" />
</center>

<div class="p"><!----></div>
In order to perform analysis, the analysis tool first converts the model into a detailed reaction-based model.  There are three different ways to see the reaction-based model that is produced.  If GraphViz is installed on your computer, you can select Network for your Simulation Type.  Then, either press the Save and Run icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/run-icon.jpg" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/run-icon.jpg" /> or select the Save and Run option from the File menu.  The result will be a GraphViz window that will open to show the reaction-based model such as the one shown below for our example.  If it does not open in GraphViz, make sure that you have files with the <tt>.dot</tt> file extension associated with GraphViz on your computer.  You can also view the model in a web browser by selecting Browser for your simulation type.  In this case, you should ensure that you have files with the <tt>.xhtml</tt> extension associated with your favorite browser.  Finally, you can save the reaction-based model by selecting Model as your simulation type.  In this case, you must provide a new model ID.  This new model will appear in your project and it can be opened in the Model Editor.  Since this model does not include any layout information, you will need to either lay it out by hand or using one of the default layout routines selectable using the Apply Layout icon    <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/choose_layout_selected.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/choose_layout_selected.png" />.

<div class="p"><!----></div>

<center><img src="screenshots/viewNetworkGT.png" alt="screenshots/viewNetworkGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/viewBrowserGT.png" alt="screenshots/viewBrowserGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/reactionModelGT.png" alt="screenshots/reactionModelGT.png" />
</center>

<div class="p"><!----></div>
As you can see, this model is quite complex.  A simple model can be generated by selecting Abstraction to reduce the model using reaction-based abstractions based on the quasi-steady state assumption.  The abstracted model shown below is reduced from 15 species and 13 reactions to just 5 species and 5 reactions.  

<div class="p"><!----></div>

<center><img src="screenshots/reactionModelAbsGT.png" alt="screenshots/reactionModelAbsGT.png" />
</center>

<div class="p"><!----></div>
Now, go back to the simulation options tab.  Here, make sure that Abstraction is still selected, change the simulation type back to ODE, the simulator to Runge-Kutta-Fehlberg,  the time limit to 10000.0, the print interval to 100.0, and enter a Simulation ID of <tt>ode</tt>.  Then, either press the Save and Run icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/run-icon.jpg" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/run-icon.jpg" /> or select the Save and Run option from the File menu.
After the simulation completes, click on the TSD Graph tab.  Double-click on the graph to bring up the graph editor.
Open the <tt>ode</tt> simulation, highlight Average, select aTc, IPTG, and GFP, change the Title to "ODE Simulation Results", change the X-Axis Label to "Time (seconds)", and change the Y-Axis Label to "Number of Molecules".  
Press the OK button.  

<div class="p"><!----></div>

<center><img src="screenshots/odeSimGT.png" alt="screenshots/odeSimGT.png" /><br />
<img src="screenshots/odeResultsGT.png" alt="screenshots/odeResultsGT.png" /><br />
<img src="screenshots/odeSimResultsGT.png" alt="screenshots/odeSimResultsGT.png" />
</center>

<div class="p"><!----></div>
Graphs can be exported in a variety of formats including:

<ul>
<li> Time series data format (tsd).
<div class="p"><!----></div>
</li>

<li> Comma separated value (csv).
<div class="p"><!----></div>
</li>

<li> Column separated data (dat).
<div class="p"><!----></div>
</li>

<li> Encapsulated postscript (eps).
<div class="p"><!----></div>
</li>

<li> Joint Photographic Experts Group (jpg).
<div class="p"><!----></div>
</li>

<li> Portable document format (pdf).
<div class="p"><!----></div>
</li>

<li> Portable network graphics (png).
<div class="p"><!----></div>
</li>

<li> Scalable vector graphics (svg).
<div class="p"><!----></div>
</li>
</ul>
In order to export a graph, you can either click on the Export icon <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/export.jpg" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/export.jpg" /> or select one of the graph export options from the File menu.  When using the Export icon, the type of file exported will depend on the extension provided to the file name.  Click on the Export icon, browse to a location on your file system, and enter the file name of <tt>ode.pdf</tt> to create a PDF file for your graph.

<div class="p"><!----></div>

<center><img src="screenshots/exportTSD.png" alt="screenshots/exportTSD.png" />
</center>

<div class="p"><!----></div>
Now, select the Simulation Options tab again, select <tt>Monte Carlo</tt>, change the simulator SSA-Direct, the number of runs to 100, set the simulation ID to <tt>ssa</tt>, and click on the Save and Run icon.  Click on the TSD Graph tab.  Double-click on the graph to bring up the graph editor.  Click on Deselect All to remove the plotted points.  Open the <tt>ssa</tt> simulation directory, and highlight <tt>run-1</tt>.  Select aTc, IPTG, and GFP, and change the title to "SSA Simulation Results". Press the OK button.  Click on the Export icon and enter the file name <tt>ssa-1.pdf</tt>.  Repeat these steps to generate graphs for the average (<tt>average.pdf</tt>).

<div class="p"><!----></div>

<center><img src="screenshots/ssaSimGT.png" alt="screenshots/ssaSimGT.png" /><br />
<img src="screenshots/ssaResultsGT.png" alt="screenshots/ssaResultsGT.png" /><br />
<img src="screenshots/ssaSimResultsGT.png" alt="screenshots/ssaSimResultsGT.png" />
</center>

<div class="p"><!----></div>
Another way to view simulation results is on the schematic.  To do this, click on the schematic tab.  At the bottom of the window, select the Choose Simulation button, which brings up a window with all the simulations in this analysis view.  Open the <tt>ssa</tt> directory, select <tt>run-1.tsd</tt>, and press OK. 

<div class="p"><!----></div>

<center><img src="screenshots/chooseSimGT.png" alt="screenshots/chooseSimGT.png" />
</center>

<div class="p"><!----></div>
Now, click on the GFP species, which brings up the Edit Species window.  Select the Appearance tab.  Here you can select how you want the species to appear as you playback the simulation.  You can have it change color, size, and/or opacity on a gradient.  You can also select the range of molecule counts to specify the ends of the gradient(s).  Finally, you can indicate that these selections are either for this species or all species in the model.  For our example, let's make GFP  follow a green color gradient, IPTG follow a blue color gradient, LacI follow a cyan color gradient, aTc follow a red color gradient, and TetR follow a magenta gradient.

<center>
<img src="screenshots/editSpeciesAppearanceGT.png" alt="screenshots/editSpeciesAppearanceGT.png" />
</center>

<div class="p"><!----></div>
Once you have made your selections, you can now play back the simulation.  You can either single-step the simulation by pressing the <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/single_step.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/single_step.png" /> icon or play continuously by pressing the <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/play.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/play.png" /> icon.  The playback can also be paused by pressing the <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/pause.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/pause.png" /> icon and restarted by pressing the  <img src="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/rewind.png" alt="../gui/src/main/resources/edu/utah/ece/async/ibiosim/gui/icons/modelview/movie/rewind.png" /> icon. 

<div class="p"><!----></div>

<center><img src="screenshots/movieViewGT.png" alt="screenshots/movieViewGT.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc7">
7</a>&nbsp;&nbsp;Grid Models</h2>

<div class="p"><!----></div>
In the last example, we will build a model with a grid. 
Create a grid model using the File &#8594; New &#8594; Grid Model menu, and name the new model <tt>Population</tt>.  In the create grid window shown below, select your copy of your GeneticToggle model and change the number of rows and columns to 5.  

<div class="p"><!----></div>

<center><img src="screenshots/createGridGT.png" alt="screenshots/createGridGT.png" />
</center>

<div class="p"><!----></div>
The schematic in a grid model is a bit different.  It includes a grid in which each location can be empty or contain exactly one component.  Only components can be added to grids.

<div class="p"><!----></div>

<center><img src="screenshots/gridModelGT.png" alt="screenshots/gridModelGT.png" />
</center>

<div class="p"><!----></div>
Next, right-click on the Population model and create an analysis view.  Select Abstraction, Monte Carlo, and the SSA-Direct simulator.  Set the time limit to 10000 with a print interval of 100, change the number of runs to 1, and perform the simulation.  Now, go to the schematic tab and press the Choose Simulation button to select run-1.tsd.  Click on one of the genetic toggle switch models to bring up the Edit Species editor.  Select the GFP species and a green color gradient, and apply to all components with this model.  Now, play back the simulation to see the toggle switches turn on and off.

<div class="p"><!----></div>

<center><img src="screenshots/gridSimGT.png" alt="screenshots/gridSimGT.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<center><img src="screenshots/compAppearancesGT.png" alt="screenshots/compAppearancesGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/gridSimResultsGT.png" alt="screenshots/gridSimResultsGT.png" />
</center>

<div class="p"><!----></div>

<br /><br /><hr /><small>File translated from
T<sub><font size="-1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size="-1">T</font></sub>H</a>,
version 3.81.<br />On 11 Sep 2017, 09:52.</small>
</html>
